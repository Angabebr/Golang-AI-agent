# AI-агент для автономного управления веб-браузером

Автономный AI-агент, который управляет веб-браузером для выполнения сложных многошаговых задач без предварительно заданных планов.

## Возможности

- ✅ **Автономная работа** - агент самостоятельно принимает решения на основе текущего состояния страницы
- ✅ **Умное управление контекстом** - эффективное извлечение информации без перегрузки токенами
- ✅ **Security layer** - запрашивает подтверждение перед деструктивными действиями (удаление, оплата)
- ✅ **Адаптивная обработка ошибок** - автоматически адаптируется при неудачных действиях
- ✅ **Sub-agent architecture** - специализированные агенты для разных типов задач (почта, покупки, вакансии)
- ✅ **Persistent sessions** - сохраняет сессии браузера между запусками
- ✅ **Видимый браузер** - можно наблюдать за работой агента в реальном времени

## Требования

- Go 1.21 или выше
- Chrome/Chromium браузер
- OpenAI API ключ

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd Golang-AI-agent-main
```

2. Установите зависимости:
```bash
go mod download
```

3. Создайте файл `.env` в корне проекта:
```
OPENAI_API_KEY=your_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview
BROWSER_USER_DATA_DIR=./browser_data
START_URL=https://www.google.com
KEEP_BROWSER_OPEN=false
```

4. Соберите проект:
```bash
go build -o agent.exe .
```

## Использование

Запустите агента:
```bash
./agent.exe
```

Агент откроет браузер и будет готов к выполнению задач. Просто введите задачу текстом:

### Примеры задач

**1. Удаление спама из почты:**
```
Прочитай последние 10 писем в яндекс почте и удали спам
```

**2. Заказ еды:**
```
Закажи мне BBQ-бургер и картошку фри из того места, откуда я заказывал на прошлой неделе
```

**3. Поиск вакансий:**
```
Найди 3 подходящие вакансии AI-инженера на hh.ru и откликнись на них с сопроводительным письмом
```

**4. Навигация:**
```
Перейди на сайт github.com и найди репозиторий golang
```

## Архитектура

### Компоненты

- **browser** - управление браузером через chromedp
- **ai** - взаимодействие с OpenAI API
- **agent** - основной агент и sub-agents

### Особенности реализации

1. **Умное извлечение информации:**
   - Извлекает только видимые элементы
   - Структурированные данные (таблицы, списки)
   - Ограничение длины текста для экономии токенов

2. **Security Layer:**
   - Автоматическое определение деструктивных действий
   - Запрос подтверждения у пользователя перед выполнением

3. **Sub-agents:**
   - Email Agent - для работы с почтой
   - Shopping Agent - для заказов и покупок
   - Job Agent - для поиска работы
   - Автоматическое определение типа задачи

4. **Обработка ошибок:**
   - Экспоненциальный backoff при повторах
   - Адаптация стратегии при разных типах ошибок
   - Сохранение контекста ошибок в истории

## Важные замечания

- ⚠️ Перед выполнением задач убедитесь, что вы уже вошли в свои аккаунты на соответствующих сервисах
- ⚠️ Агент останавливается перед финальным подтверждением оплаты (для безопасности)
- ⚠️ При деструктивных действиях агент запросит подтверждение

## Служебные команды

- `help` / `помощь` - показать справку
- `exit` / `quit` / `выход` - завершить работу

## Разработка

Структура проекта:
```
.
├── main.go           # Точка входа
├── agent/
│   ├── agent.go      # Основной агент
│   └── subagents.go  # Sub-agents
├── ai/
│   └── client.go     # OpenAI клиент
├── browser/
│   └── browser.go    # Управление браузером
└── go.mod
```

## Лицензия

MIT

